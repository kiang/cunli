<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">

        <!--[if lt IE 9]>
          <script src="//html5shim.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
        <!-- CSS code from Bootply.com editor -->
        <style type="text/css">
            html, body, #map_canvas { height: 100%; margin: 0;}
            body{
                padding-top:50px; /*padding for navbar*/
            }

            .navbar-custom .icon-bar {
                background-color:#fff;
            }

            .navbar-custom {
                background-color: #168ccc;
                color:#fff;
            }

            .navbar-custom li>a:hover,.navbar-custom li>a:focus {
                background-color:#49bfff;
            }

            .navbar-custom a{
                color:#fefefe;
            }

            .navbar-custom .form-control:focus {
                border-color: #49bfff;
                outline: 0;
                -webkit-box-shadow: inset 0 0 0;
                box-shadow: inset 0 0 0;
            }
        </style>
    </head>
    <body onload="initialize()">
        <div class="navbar navbar-custom navbar-fixed-top">
            <div class="navbar-header"><a class="navbar-brand" href="#">Brand</a>
                <a class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
            </div>
            <div class="navbar-collapse collapse">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="#">Home</a></li>
                    <li><a href="#">Link</a></li>
                    <li><a href="#">Link</a></li>
                    <li>&nbsp;</li>
                </ul>
                <form class="navbar-form">
                    <div class="form-group" style="display:inline;">
                        <div class="input-group">
                            <div class="input-group-btn">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-chevron-down"></span></button>
                                <ul class="dropdown-menu">
                                    <li><a href="#">Category 1</a></li>
                                    <li><a href="#">Category 2</a></li>
                                    <li><a href="#">Category 3</a></li>
                                    <li><a href="#">Category 4</a></li>
                                    <li><a href="#">Category 5</a></li> 
                                </ul>
                            </div>
                            <div class="input-group-btn">
                                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown"><span class="glyphicon glyphicon-chevron-down"></span></button>
                                <ul class="dropdown-menu">
                                    <li><a href="#">Category 1</a></li>
                                    <li><a href="#">Category 2</a></li>
                                    <li><a href="#">Category 3</a></li>
                                    <li><a href="#">Category 4</a></li>
                                    <li><a href="#">Category 5</a></li> 
                                </ul>
                            </div>
                            <input type="text" class="form-control" placeholder="What are searching for?">
                            <span class="input-group-addon"><span class="glyphicon glyphicon-search"></span> </span>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <div id="map_canvas" style="width:100%; height:100%"></div>
        <script src="GeoJSON.js"></script>
        <script src="topojson.js"></script>
        <script src="https://maps.googleapis.com/maps/api/js?sensor=false"></script>
        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script>
        <script type='text/javascript' src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
        <script>
        initialize = function() {
            var mapOptions = {
                center: new google.maps.LatLng(21.896710512476858, 119.3151574766245),
                zoom: 13,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };

            var map = new google.maps.Map(document.getElementById("map_canvas"),
                    mapOptions);

            $.getJSON('json/64000_64000120.json', function(data) {
                var cunli_geojson = topojson.feature(data, data.objects.layer1).features;
                var bounds = new google.maps.LatLngBounds;

                var style = {
                    strokeColor: "#0000FF",
                    strokeWeight: 1,
                    strokeOpacity: 0.45,
                    fillOpacity: 0.1,
                };

                $.each(cunli_geojson, function(k, v) {
                    var cunli = new GeoJSON(cunli_geojson[k], style);
                    if (typeof cunli.setMap === 'function') {
                        cunli.addListener('click', function() {
                            alert(this.geojsonProperties['TV_ALL']);
                        });
                        var i = cunli.latLngs.getArray();
                        bounds.extend(i['0']['j']['0']);
                        cunli.setMap(map);
                    }
                });
                map.setCenter(bounds.getCenter());
            });
        }
        </script>
    </body>
</html>